/*
 * Corne Keyboard ZMK Configuration
 * - Improved sleep/wake reliability
 * - RGB underglow enabled
 */

/* Uncomment this if you're using a nice!view display */
// # CONFIG_ZMK_DISPLAY=n

/* Underglow */
CONFIG_ZMK_RGB_UNDERGLOW=y
CONFIG_WS2812_STRIP=y
CONFIG_ZMK_RGB_UNDERGLOW_EXT_POWER=y
CONFIG_ZMK_RGB_UNDERGLOW_ON_START=y
CONFIG_ZMK_RGB_UNDERGLOW_HUE_START=0
CONFIG_ZMK_RGB_UNDERGLOW_SAT_START=100
CONFIG_ZMK_RGB_UNDERGLOW_BRT_START=50
CONFIG_ZMK_RGB_UNDERGLOW_EFF_START=3  # 0-6 for different effects

/* Power Management */
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=1800000  # 30 minutes
CONFIG_ZMK_IDLE_TIMEOUT=30000          # 30 seconds of inactivity before first sleep
CONFIG_ZMK_EXT_POWER=y

/* Input Settings */
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=5
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=5
CONFIG_ZMK_KSCAN_MATRIX_WAIT_BEFORE_INPUT=50  # Helps with wake reliability

/* Split Keyboard Settings */
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y
CONFIG_BT_GATT_ENFORCE_SUBSCRIPTION=n

/* Performance */
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y
